{% extends "index.html" %}
{% import "macros.html" as macros %}

{% block title -%}
<title>{{page.title}} | {{config.title}}</title>
<meta property="og:title" content="{{page.title}} | {{config.title}}" />
<meta name="twitter:title" content="{{page.title}} | {{config.title}}" />
{%- endblock title %}

{% block content %}
{% set font_class = "" %}
{% if page.extra.font_class %}
    {% set font_class = page.extra.font_class %}
{%- endif %}
<header class="{{ font_class }}">
  <h1>{{ page.title }}</h1>
  <div>
    <div class="article-meta">
      <time datetime="{{ page.date | date(format="%F") | safe }}">
        {{ page.date | date(format="%F") }}
      </time>
      {% if page.extra.author -%}
      by {{ page.extra.author}}
      {%- endif %}
      ({{ page.reading_time }} min read)
    </div>
  </div>
</header>
<article class="article {{ font_class }}">
  <div class="page-body">
    <!-- {% set font_class = '' %} -->
    <section id="js-article" class="article-body">
      {{ macros::polish(content=page.content) }}
    </section>
  </div>
</article>
{% if page.extra.show_toc %}
<div class="sidebar {{ font_class }}">
  <ul class="sidebar-ul">
  {% for h1 in page.toc %}
      <li>
          <a href="{{ h1.permalink | safe }}">{{ h1.title }}</a>
          {% if h1.children %}
              <ul>
                  {% for h2 in h1.children %}
                      <li>
                          <a href="{{ h2.permalink | safe }}">{{ h2.title }}</a>
                      </li>
                  {% endfor %}
              </ul>
          {% endif %}
      </li>
  {% endfor %}
  </ul>
</div>
{% endif %}

<footer>
  <hr>
    <h1 class="title-link"><a href="{{ config.base_url }}">{{ config.title }}</a></h1>
    <div class="header-links">
      <a href="https://twitter.com/kipperrii">twitter</a>,
      <a href="mailto:hello@carolchen.me">email </a>
    </div>
</footer>

{%- endblock content %}
